<!DOCTYPE html>
<html>

<title>Cam Test</title>

<head>
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon.ico') }}">
  <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
  <link href="{{ url_for('static', filename='css/jasny-bootstrap.min.css') }}" rel="stylesheet">

  <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/jasny-bootstrap.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/webcam.js') }}"></script>

  <style>
  body {
    min-height: 1000px;
    padding-top: 70px;
  }

  </style>

  <script>
  $(document).ready(function(){

      Webcam.set({
        width: 320,
        height: 240,
        dest_width: 640,
        dest_height: 480,
        image_format: 'jpeg',
        jpeg_quality: 100,
        force_flash: false,
        flip_horiz: true,
        webcam_id: '568248d29ae00e5f7722c861fcee1a99456f9300b48aef2260130110d59eb037'
      });

      Webcam.attach('#camera');

      $("#previewSnapshot").bind( "click", function() {
        Webcam.freeze();
        document.getElementById('pre_take_buttons').style.display = 'none';
        document.getElementById('post_take_buttons').style.display = '';
      });

      $("#cancelPreview").bind( "click", function() {
        Webcam.unfreeze();
        document.getElementById('pre_take_buttons').style.display = '';
        document.getElementById('post_take_buttons').style.display = 'none';
      });

      $("#saveSnapshot").bind( "click", function() {
        Webcam.snap( function(data_uri) {
          var raw_image_data = data_uri.replace(/^data\:image\/\w+\;base64\,/, '');
          document.getElementById('base64_photo_data').value = raw_image_data;
          $('#snapshot_modal').modal('hide')
          document.getElementById('pre_take_buttons').style.display = '';
          document.getElementById('post_take_buttons').style.display = 'none';
        });
      });

  });
  </script>

</head>
<body>

  <!-- Fixed navbar -->
  <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
      <div class="navbar-header">
        <a class="navbar-brand" href="/">SYN Shop Identity Management System</a>
      </div>
      <div id="navbar" class="navbar-collapse collapse">
        <ul class="nav navbar-nav navbar-right">
          <li><a href="/logout">Logout</a></li>
        </ul>
      </div><!--/.nav-collapse -->
    </div>
  </nav>

  <div class="container">
      <div id="camera"></div>
         <video id="video" autoplay></video>
  </div>

  <div class="select">
    <label for="videoSource">Video source: </label><select id="videoSource"><option value="568248d29ae00e5f7722c861fcee1a99456f9300b48aef2260130110d59eb037">MS</option></select>
  </div>

</body>
</html>
